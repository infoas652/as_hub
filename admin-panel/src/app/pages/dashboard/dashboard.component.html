<div class="dashboard-container">
  <!-- Welcome Banner -->
  <div class="welcome-banner">
    <div class="banner-content">
      <div class="welcome-text">
        <h1 class="welcome-title">
          <span class="wave">ğŸ‘‹</span>
          {{ 'dashboard.welcome' | translate }}, {{ adminName }}!
        </h1>
        <p class="welcome-subtitle">{{ 'dashboard.subtitle' | translate }}</p>
      </div>
      <div class="banner-actions">
        <button class="btn btn-primary" (click)="refreshData()">
          <span class="icon">ğŸ”„</span>
          {{ 'common.refresh' | translate }}
        </button>
      </div>
    </div>
    <div class="banner-decoration">
      <div class="decoration-circle circle-1"></div>
      <div class="decoration-circle circle-2"></div>
      <div class="decoration-circle circle-3"></div>
    </div>
  </div>

  <!-- Main Stats Cards -->
  <div class="stats-grid">
    <!-- Total Leads Card -->
    <div class="stats-card gradient-primary" *ngIf="stats">
      <div class="card-background">
        <div class="bg-pattern"></div>
      </div>
      <div class="stats-content">
        <div class="stats-header">
          <div class="stats-icon">
            <span>ğŸ“§</span>
          </div>
          <div class="stats-badge" *ngIf="stats.leads_change">
            <span class="trend-up">â†‘ {{ stats.leads_change }}%</span>
          </div>
        </div>
        <div class="stats-body">
          <div class="stats-number">{{ stats.total_leads || 0 }}</div>
          <div class="stats-label">{{ 'dashboard.totalLeads' | translate }}</div>
        </div>
        <div class="stats-footer">
          <span class="footer-text">{{ 'dashboard.allTime' | translate }}</span>
        </div>
      </div>
    </div>

    <!-- New Leads Card -->
    <div class="stats-card gradient-success" *ngIf="stats">
      <div class="card-background">
        <div class="bg-pattern"></div>
      </div>
      <div class="stats-content">
        <div class="stats-header">
          <div class="stats-icon">
            <span>âœ¨</span>
          </div>
          <div class="stats-badge new">
            <span>{{ 'dashboard.new' | translate }}</span>
          </div>
        </div>
        <div class="stats-body">
          <div class="stats-number">{{ stats.new_leads || 0 }}</div>
          <div class="stats-label">{{ 'dashboard.newLeads' | translate }}</div>
        </div>
        <div class="stats-footer">
          <span class="footer-text">{{ 'dashboard.unread' | translate }}</span>
        </div>
      </div>
    </div>

    <!-- Active Services Card -->
    <div class="stats-card gradient-warning" *ngIf="stats">
      <div class="card-background">
        <div class="bg-pattern"></div>
      </div>
      <div class="stats-content">
        <div class="stats-header">
          <div class="stats-icon">
            <span>ğŸš€</span>
          </div>
        </div>
        <div class="stats-body">
          <div class="stats-number">{{ stats.total_services || 0 }}</div>
          <div class="stats-label">{{ 'dashboard.activeServices' | translate }}</div>
        </div>
        <div class="stats-footer">
          <span class="footer-text">{{ 'dashboard.published' | translate }}</span>
        </div>
      </div>
    </div>

    <!-- Testimonials Card -->
    <div class="stats-card gradient-info" *ngIf="stats">
      <div class="card-background">
        <div class="bg-pattern"></div>
      </div>
      <div class="stats-content">
        <div class="stats-header">
          <div class="stats-icon">
            <span>â­</span>
          </div>
        </div>
        <div class="stats-body">
          <div class="stats-number">{{ stats.total_testimonials || 0 }}</div>
          <div class="stats-label">{{ 'dashboard.testimonials' | translate }}</div>
        </div>
        <div class="stats-footer">
          <span class="footer-text">{{ 'dashboard.reviews' | translate }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Content Grid -->
  <div class="content-grid">
    <!-- Recent Leads -->
    <div class="content-card leads-card">
      <div class="card-header">
        <div class="header-left">
          <div class="header-icon">ğŸ“¬</div>
          <div class="header-text">
            <h3>{{ 'dashboard.recentLeads' | translate }}</h3>
            <p>{{ 'dashboard.latestInquiries' | translate }}</p>
          </div>
        </div>
        <a [routerLink]="['/leads']" class="view-all-btn">
          {{ 'dashboard.viewAll' | translate }}
          <span class="arrow">â†’</span>
        </a>
      </div>
      <div class="card-body">
        <div class="leads-list" *ngIf="recentLeads && recentLeads.length > 0">
          <div class="lead-item" *ngFor="let lead of recentLeads; let i = index" 
               [style.animation-delay]="(i * 0.1) + 's'">
            <div class="lead-avatar">
              <span>{{ lead.name.charAt(0).toUpperCase() }}</span>
            </div>
            <div class="lead-info">
              <div class="lead-name">{{ lead.name }}</div>
              <div class="lead-details">
                <span class="detail-item">
                  <span class="icon">ğŸ“§</span>
                  {{ lead.email }}
                </span>
                <span class="detail-item" *ngIf="lead.company">
                  <span class="icon">ğŸ¢</span>
                  {{ lead.company }}
                </span>
              </div>
            </div>
            <div class="lead-meta">
              <span class="lead-badge" [ngClass]="'badge-' + getStatusClass(lead.status)">
                {{ 'leads.' + lead.status | translate }}
              </span>
              <span class="lead-time">{{ formatDate(lead.created_at) }}</span>
            </div>
          </div>
        </div>
        <div class="empty-state" *ngIf="!recentLeads || recentLeads.length === 0">
          <div class="empty-icon">ğŸ“­</div>
          <p class="empty-text">{{ 'dashboard.noLeads' | translate }}</p>
          <p class="empty-subtext">{{ 'dashboard.noLeadsDesc' | translate }}</p>
        </div>
      </div>
    </div>

    <!-- Quick Stats & Activity -->
    <div class="sidebar-cards">
      <!-- Quick Actions -->
      <div class="content-card quick-actions-card">
        <div class="card-header">
          <div class="header-left">
            <div class="header-icon">âš¡</div>
            <div class="header-text">
              <h3>{{ 'dashboard.quickActions' | translate }}</h3>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="quick-actions-grid">
            <a [routerLink]="['/services']" class="quick-action-btn">
              <div class="action-icon primary">ğŸ› ï¸</div>
              <div class="action-text">
                <div class="action-title">{{ 'dashboard.manageServices' | translate }}</div>
                <div class="action-count">{{ stats?.total_services || 0 }}</div>
              </div>
            </a>
            <a [routerLink]="['/pricing']" class="quick-action-btn">
              <div class="action-icon success">ğŸ’°</div>
              <div class="action-text">
                <div class="action-title">{{ 'dashboard.pricingPlans' | translate }}</div>
                <div class="action-count">{{ stats?.total_pricing || 0 }}</div>
              </div>
            </a>
            <a [routerLink]="['/features']" class="quick-action-btn">
              <div class="action-icon warning">âœ¨</div>
              <div class="action-text">
                <div class="action-title">{{ 'dashboard.features' | translate }}</div>
                <div class="action-count">{{ stats?.total_features || 0 }}</div>
              </div>
            </a>
            <a [routerLink]="['/testimonials']" class="quick-action-btn">
              <div class="action-icon info">ğŸ’¬</div>
              <div class="action-text">
                <div class="action-title">{{ 'dashboard.testimonials' | translate }}</div>
                <div class="action-count">{{ stats?.total_testimonials || 0 }}</div>
              </div>
            </a>
            <a [routerLink]="['/faq']" class="quick-action-btn">
              <div class="action-icon purple">â“</div>
              <div class="action-text">
                <div class="action-title">{{ 'dashboard.faq' | translate }}</div>
                <div class="action-count">{{ stats?.total_faq || 0 }}</div>
              </div>
            </a>
            <a [routerLink]="['/media']" class="quick-action-btn">
              <div class="action-icon pink">ğŸ–¼ï¸</div>
              <div class="action-text">
                <div class="action-title">{{ 'dashboard.media' | translate }}</div>
                <div class="action-count">{{ stats?.total_media || 0 }}</div>
              </div>
            </a>
          </div>
        </div>
      </div>

      <!-- Recent Activity -->
      <div class="content-card activity-card">
        <div class="card-header">
          <div class="header-left">
            <div class="header-icon">ğŸ“Š</div>
            <div class="header-text">
              <h3>{{ 'dashboard.recentActivity' | translate }}</h3>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="activity-list" *ngIf="recentActivity && recentActivity.length > 0">
            <div class="activity-item" *ngFor="let activity of recentActivity; let i = index"
                 [style.animation-delay]="(i * 0.1) + 's'">
              <div class="activity-indicator" [ngClass]="activity.type"></div>
              <div class="activity-content">
                <div class="activity-title">{{ activity.title }}</div>
                <div class="activity-time">{{ activity.time }}</div>
              </div>
            </div>
          </div>
          <div class="empty-state small" *ngIf="!recentActivity || recentActivity.length === 0">
            <div class="empty-icon">ğŸ“ˆ</div>
            <p class="empty-text">{{ 'dashboard.noActivity' | translate }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- System Info -->
  <div class="system-info-card">
    <div class="info-grid">
      <div class="info-item">
        <div class="info-icon">ğŸŒ</div>
        <div class="info-content">
          <div class="info-label">{{ 'dashboard.platform' | translate }}</div>
          <div class="info-value">AS Hub CMS</div>
        </div>
      </div>
      <div class="info-item">
        <div class="info-icon">ğŸ“…</div>
        <div class="info-content">
          <div class="info-label">{{ 'dashboard.lastUpdate' | translate }}</div>
          <div class="info-value">{{ getCurrentDate() }}</div>
        </div>
      </div>
      <div class="info-item">
        <div class="info-icon">âœ…</div>
        <div class="info-content">
          <div class="info-label">{{ 'dashboard.status' | translate }}</div>
          <div class="info-value status-active">
            <span class="status-dot"></span>
            {{ 'dashboard.operational' | translate }}
          </div>
        </div>
      </div>
      <div class="info-item">
        <div class="info-icon">ğŸ”</div>
        <div class="info-content">
          <div class="info-label">{{ 'dashboard.security' | translate }}</div>
          <div class="info-value">{{ 'dashboard.secured' | translate }}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" *ngIf="loading">
    <div class="loading-content">
      <div class="spinner-container">
        <div class="spinner"></div>
        <div class="spinner-inner"></div>
      </div>
      <p class="loading-text">{{ 'common.loading' | translate }}</p>
    </div>
  </div>
</div>
